# SRP - 단일 책임 원칙

```
"어떤 클래스를 변경해야 하는 이유는 오직 하나뿐이어야 한다." - 로버트 C.마틴
```

## **클래스 SRP를 지키지 않은 경우**

남자라는 클래스와 남자 클래스에 의존하는 다양한 클래스가 있다고 가정해보자.

![image](https://user-images.githubusercontent.com/69107255/116578050-fac83c00-a94b-11eb-8cb5-f86912bafc32.png)

남자는 매우 피곤하다. 이러한 피곤함은 **역할**과 **책임**이 너무 많기 때문이다.
만약 여자친구와 헤어졌다고 가정해보자. 더 이상 데이트할 필요도 없고 기념일을 챙길 이유가 없기 때문에 남자는 힘들어한다. 

이러한 스트레스는 부모님과 직장상사까지 피곤한 지경에 이르게 된다.
따라서 이런 경우에는 **역할(책임)** 을 분리하라는 것이 **단일 책임 원칙**이다.

## **클래스 단일 책임 원칙을 적용해 개선한 경우**

![image](https://user-images.githubusercontent.com/69107255/116578926-d882ee00-a94c-11eb-8cef-ae9231f1c7be.png)

위에 그림은 **남자라는 하나의 클래스**가 **역할**과 **책임**에 따라 세 개의 클래스로 쪼개졌다.

클래스를 역할과 책임에 따라 분리해서 클래스명도 이해하기 쉽게 정의가 되었다.

이제 여자친구와 헤어지더라도 남자친구만 상처를 입으면 된다.
여자친구와 이별한 남자친구로 부터 다른 클래스들(어머니,직장상사)은 어떠한 영향도 받지 않는다.

단일 책임 원칙은 클래스의 분할에 대해서만이 아니라 속성, 메서드, 패키지, 모듈, 컴포넌트, 프레임워크등에 적용할 수 있는 개념이다.


## **속성이 SRP를 지키지 않은 경우**

객체 지향 세계에서 남자는 반드시 군대에 가야하고, 여자는 절대로 군대를 가지 않는다고 가정해 보자

사람이라는 클래스에 군번이라는 속성이 있다면?

```java
class 사람 {
    String 군번;
    ...   
}

... 

사람 로미오 = new 사람();
사람 줄리엣 = new 사람();

줄리엣.군번 = "157612345";
```

줄리엣이 여자일 경우 군번 속성에 값을 할당하거나 읽어 오는 코드를 제재할 방법이 없다.

이 때 `사람 클래스`를 남자 클래스와 여자 클래스로 분할하고 `남자 클래스`에만 `군번 속성`을 갖게 한다.

### **남자.java**
```java
class 남자 {
    String 군번;

}
```

### **여자.java**
```java
class 여자 {

}
```

이때 `남자 클래스`와 `여자 클래스` 간에 공통점이 없을 시 `사람 클래스`를 제거하면 되고, 공통점이 많을 시 `사람 클래스`를 상위 클래스로 하여 공통점을 `사람 클래스`에 두고 남자 클래스와 여자 클래스는 `사람 클래스`를 상속하고 차이점만 각자 구현하면 된다.

## 메서드가 단일 책임 원칙을 지키지 않은 경우

하나의 속성이 여러 의미를 갖는 경우도 단일 책임 원칙을 지키지 못하는 경우다.

```java
class 사람 {
    final static Boolean man = true;
    final static Boolean woman = false;
    Boolean sex;

    void 소변보다(){
        if(this.woman == 여자){
            // 앉아서 본다
        }else {
            // 서서본다
        }
    }

}
```

남성 또는 여성에 따라서 소변보다() 메서드에서 분기 처리가 진행이 된다.
소변보다() 메서드가 남성과 여성의 행위를 모두 구현하려고 하기에 단일 책임(행위) 원칙을 위배하고 있다.

```java
abstract class 사람 {
    abstract public void 소변보다()
}
class 여성 extends 사람 {
    @Override
    public void 소변보다(){
        // 앉아서 본다.
    }
}

class 남성 extends 사람 {
    @Override
    public void 소변보다(){
        // 서서본다.
    }
}
```